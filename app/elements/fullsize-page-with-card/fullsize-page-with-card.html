<!--
  @license
  Copyright Jesus Perez <jesusprubio gmail com>
  Copyright (c) 2015 The Polymer Project Authors. (created with "generator-polymer")

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<dom-module id="fullsize-page-with-card">

  <style>

    :host {
      overflow-y: scroll;
    }
    
    :host a {
      color: black;
    }
    
    .fixed {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100vw;
      padding-left: 1em;
      padding-top: 1em;
      font-weight: bold;
      font-size: 1.5em;
    }

    .card {
      position: relative;
      margin: 5em 1.5em 0;
    }

    #media-box {
      height: 60vh;
      margin-bottom: 1em;
      @apply(--layout-center);
      @apply(--layout-vertical);
    }
    #media-box iron-image {
      height: 100vh;
      width: 80vw;
      margin-top: 1em;
    }


    /* Breakpoints */

    @media all and (min-width: 481px) {

      #media-box iron-image {
        height: 70vh;
        width: 60vw;
      }
      
      .fixed {
        padding-top: 1em;
        padding-left: 2em;
      }
      
      .card {
        margin: 5em 2em 2em;
      }

    }

    @media all and (min-width: 768px) {

      .fixed {
        padding-top: 2em;
        padding-left: 4em;
      }
      
      .card {
        margin: 8em 4em 4em;
      }


    }

    @media all and (min-width: 1024px) {

      .fixed {
        padding-left: 6em;
      }

      #media-box iron-image {
        height: 50vh;
        width: 40vw;
      }

      .card {
        margin: 8em 8em 8em;
      }

    }

  </style>

  <template>
    <div id="fixed" class="fixed white-300">{{ projectData.value }}</div>

    <div id="card" class="card white-300">
      <p>"<span>{{ projectData.description }}</span>" (<a href="{{ projectData.url }}">link</a>)</p>
      <p>{{ projectData.rol }}</p>
      
      <div id="media-box">
        <iron-image src="{{ computePicUrl(projectData.picture) }}" sizing="contain" position="top">
        </iron-image>
      </div>
    </div>

  </template>

</dom-module>

<script>

  Polymer({

    is: 'fullsize-page-with-card',

    behaviors: [
      Polymer.NeonSharedElementAnimatableBehavior
    ],

    computePicUrl: function(picName) {
      return '../images/projects/' + picName;
    },
    
    showPic: function(picName) {
      if (picName) {
        return true;
      } else {
        return false;
      }
    },

    showPic2: function(picName) {
      return true;
    },
    
    properties: {

      projectData: {
        type: Object,
        notify: true
      },

      sharedElements: {
        type: Object,
        value: function() {
          return {
            'hero': this.$.card,
            'ripple': this.$.fixed
          };
        }
      },

      animationConfig: {
        type: Object,
        value: function() {
          return {
            'entry': [{
              name: 'ripple-animation',
              id: 'ripple',
              toPage: this,
            }, {
              name: 'hero-animation',
              id: 'hero',
              toPage: this,
              timing: {
                delay: 150
              }
            }],
            'exit': [{
              name: 'fade-out-animation',
              node: this.$.fixed
            }, {
              name: 'transform-animation',
              transformFrom: 'none',
              transformTo: 'translate(0px,-200vh) scale(0.9,1)',
              node: this.$.card
            }]
          };
        }
      }

    }

  });

</script>